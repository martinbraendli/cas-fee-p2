<div class="editRecipe">
    <div class="container">
        <form id="addeditRecipeForm" name="addeditRecipeForm">
            <div class="row title-bg">
                <div class="col s12 l12">
                    <h3 class="" ng-show="addeditRecipeCtrl.recipe._id" translate="EDIT_RECIPE_TITLE_EDIT">Rezept bearbeiten</h3>
                    <h3 class="" ng-hide="addeditRecipeCtrl.recipe._id" translate="EDIT_RECIPE_TITLE_ADD">Rezept hinzufügen</h3>
                    <button class="btn right" type="button"
                            ng-disabled="addeditRecipeForm.$invalid || !addeditRecipeCtrl.recipe.images || addeditRecipeCtrl.recipe.images.length <= 0"
                            ng-click="addeditRecipeCtrl.save()" translate="EDIT_RECIPE_BTN_SAVE">Menu speichern
                    </button>
                    <button class="btn right cancel" type="button"
                            ng-click="addeditRecipeCtrl.cancel()" translate="EDIT_RECIPE_BTN_CANCEL">Abbrechen
                    </button>
                </div>
            </div>
            <!--first row-->
            <div class="row">
                <!--FOTO UPLOAD -->
                <div class="col s12 m12 l6 pixupload card text-darken-2">
                    <span class="clearfix form-title">
                         <i class="material-icons medium left ">picture_in_picture</i>
                        <h4 class="right-align " translate="EDIT_RECIPE_PHOTO">1. Foto</h4>
                    </span>
                    <br />
                    <br />
                    <div class="divider"></div>
                    <p translate="EDIT_RECIPE_PHOTO_MISSING">Bitte mindestens ein Photo hochladen. Danke!</p>
                    <img ng-show="!addeditRecipeCtrl.recipe.images" class="recipe-img" src="pictures/empty_plate.jpg">

                    <div ng-repeat="image in addeditRecipeCtrl.recipe.images">
                        <img class="recipe-img" ng-src="{{image.src}}"/>
                        <button class="btn right" ng-click="addeditRecipeCtrl.removeImage($index)" translate="EDIT_RECIPE_BTN_DELETE">löschen</button>
                    </div>
                    <br/>
                    <fb-file-upload recipe="addeditRecipeCtrl.recipe"></fb-file-upload>
                    <p>Ein weiteres Photo?</p>
                    <br/>
                </div>
                <!--<div class="col l2">&nbsp;</div>-->
                <!--right side: Add Recipe-->
                <!--REZEPT NAME -->
                <div class="col s12 m12 l5 right card text-accent-3 recipe-name">
                        <span class="clearfix form-title">
                            <i class="material-icons medium left">receipt</i>
                            <h4 class="right-align " translate="EDIT_RECIPE_NAME">2. Rezeptname</h4>
                        </span>
                        <br />
                        <br />
                    <div class="divider"></div>
                    <form class="recipe-form">
                        <div class="row">
                            <div class="input-field ">
                                <i class="material-icons orange-text prefix small form-title">mode_edit</i>
                                <input type="text" ng-model="addeditRecipeCtrl.recipe.title" id="recipename"
                                       name="recipename" required/>
                                <label for="recipename" translate="EDIT_RECIPE_NAME_LABEL">Name des Rezepts</label>
                                <span class="error" ng-show="addeditRecipeForm.recipename.$error.required" translate="EDIT_RECIPE_NAME_LABEL_MISSING">Bitte eine Beschreibung erfassen</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field">
                                <i class="material-icons orange-text prefix small form-title">mode_edit</i>
                                        <textarea type="text" rows="2" class="materialize-textarea"
                                                  id="menu-description"
                                                  name="menudescription"
                                                  ng-model="addeditRecipeCtrl.recipe.description" required></textarea>
                                <label for="menu-description" translate="EDIT_RECIPE_DESCR_LABEL">Beschreibung des Menus in ein paar Sätzen</label>
                                <span class="error" ng-show="addeditRecipeForm.menudescription.$error.required" translate="EDIT_RECIPE_DESCR_LABEL_MISSING">Bitte alle Angaben vollständig ausfüllen</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s4 m4 l4">
                                <h6 translate="EDIT_RECIPE_PERSON">Personen</h6>
                            </div>
                            <div class="col s8 m8 l8">
                                <select ng-model="addeditRecipeCtrl.recipe.numPerson" class="browser-default">
                                    <option value="" disabled selected translate="EDIT_RECIPE_PERSON_INPUT">Anzahl Personen</option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                    <option>6</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col  s4 m4 l4">
                                <h6 translate="EDIT_RECIPE_CATEGORY">Kategorie</h6>
                            </div>
                            <div class=" col s8 m8 l8">
                                <select ng-model="addeditRecipeCtrl.recipe.category" class="browser-default">
                                    <option value="" disabled selected translate="EDIT_RECIPE_CATEGORY">Rezeptkategorie</option>
                                    <option value="vorspeise" translate="CATEGORY_APPETIZER">Vorspeise</option>
                                    <option value="hauptspeise" translate="CATEGORY_MAIN">Hauptgang</option>
                                    <option value="dessert" translate="CATEGORY_DESSERT">Dessert</option>
                                    <option value="snack" translate="CATEGORY_SNACK">Snack</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s4 m4 l4">
                                <h6 translate="EDIT_RECIPE_BAKING_TIME">Backzeit</h6>
                            </div>
                            <div class="col s8 m8 l8">
                                <select ng-model="addeditRecipeCtrl.recipe.bakingTime" class="browser-default">
                                    <option value="" disabled selected translate="EDIT_RECIPE_BAKING_TIME">Backzeit</option>
                                    <option value="0" translate="EDIT_RECIPE_BAKING_TIME_NO">Keine Backzeit</option>
                                    <option value="10">10 - 20 min</option>
                                    <option value="20">20 - 30 min</option>
                                    <option value="30">30 - 40 min</option>
                                    <option value="40">40 - 50 min</option>
                                    <option value="50">60 + min</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s4 m4 l4">
                                <h6 translate="EDIT_RECIPE_PREPARATION_TIME">Zubereitungszeit</h6>
                            </div>
                            <div class="col s8 m8 l8">
                                <select ng-model="addeditRecipeCtrl.recipe.preparationTime" class="browser-default">
                                    <option value="" disabled selected translate="EDIT_RECIPE_PREPARATION_TIME">Zubereitungszeit</option>
                                    <option value="0" translate="EDIT_RECIPE_PREPARATION_TIME_SHORT">ganz kurz</option>
                                    <option value="10">10 - 20 min</option>
                                    <option value="20">20 - 30 min</option>
                                    <option value="30">30 - 40 min</option>
                                    <option value="40">40 - 50 min</option>
                                    <option value="50">60+ min</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <!--second row-->
            <div class="row">
                <div class="col s12 m12 l5 left card text-accent-3 recipe-name">
                        <span class="form-title clearfix">
                            <i class="material-icons medium left">view_list</i>
                            <h4 class="right-align" translate="EDIT_RECIPE_PREPARATION">4. Zubereitung</h4>
                        </span>
                    <div class="divider"></div>
                    <p translate="EDIT_RECIPE_PREPARATION_TEXT">Beschreibe hier <strong>Schritt für Schritt</strong> den Ablauf des Rezeptes</p>
                    <div class="row">
                        <div ng-repeat="preparationStep in addeditRecipeCtrl.recipe.preparationSteps">
                            <div class="input-field col s12">
                            <textarea rows="3" class="materialize-textarea" id="menustep"
                                      ng-model="preparationStep.text"></textarea>
                                <label for="menustep">{{preparationStep.position}}. {{'VIEW_RECIPE_PREP_STEP' | translate}}</label>
                            </div>
                        </div>
                        <br/>
                        <button class="btn right"
                                ng-click="addeditRecipeCtrl.addPreparationStep()" translate="EDIT_RECIPE_PREPARATION_NEXT_STEP">Naechster Schritt
                        </button>
                    </div>
                </div>
                <div class="col l2">
                    &nbsp;
                </div>
                <!--Reciepe ingredients -->
                <div class="col s12 m12 l6 right card text-accent-3 recipe-name">
                        <span class="form-title clearfix">
                             <i class="material-icons medium left">play_for_work</i>
                             <h4 class="right-align" translate="EDIT_RECIPE_INGREDIENTS">4. Zutaten</h4>
                        </span>
                    <div class="divider"></div>
                    <p translate="EDIT_RECIPE_INGREDIENTS_TEXT">Nenne alle notwendigen <strong>Zutaten</strong> für des Rezeptes</p>
                    <br />
                    <div class="row">
                        <table class="table-ingredients">
                            <thead>
                            <tr>
                                <td translate="EDIT_RECIPE_INGREDIENT_AMOUNT">Menge</td>
                                <td translate="EDIT_RECIPE_INGREDIENT_UNIT">Einheit</td>
                                <td translate="EDIT_RECIPE_INGREDIENT">Zutat</td>
                                <td translate="EDIT_RECIPE_BTN_DELETE">Löschen</td>
                            </tr>
                            </thead>
                            <tr ng-repeat="ingredient in addeditRecipeCtrl.recipe.ingredients">
                                <td>
                                    <div class="ingredient-count input-field ">
                                        <input class="mdl-textfield__input" type="number" id="ingredient-type" min="0" step="1"
                                               ng-model="ingredient.denomination"/>
                                    </div>
                                </td>
                                <td>
                                    <select ng-model="ingredient.unit" class="browser-default">
                                        <option value="" disabled selected translate="EDIT_RECIPE_INGREDIENT_UNIT">Einheit</option>
                                        <option>EL</option>
                                        <option>TL</option>
                                        <option>Prise</option>
                                        <option>Dose</option>
                                        <option>Packung</option>
                                        <option>Gramm</option>
                                        <option>Kilo</option>
                                        <option>Liter</option>
                                        <option>Deziliter</option>
                                        <option>Stück</option>
                                    </select>
                                </td>
                                <td>
                                    <div class="input-field">
                                        <input type="text" class="mdl-textfield__input" ng-model="ingredient.name"
                                               id="ingredient-name" list="ingredientsList" placeholder="Zutat">
                                        <datalist id="ingredientsList">
                                            <option ng-repeat="ingredient in ingredients" value="{{ingredient}}">
                                        </datalist>
                                        <label for="ingredient-name" class="ingredient-label" translate="EDIT_RECIPE_INGREDIENT"></label>
                                    </div>
                                </td>
                                <td>
                                    <a href="" ng-click="addeditRecipeCtrl.deleteIngredient($index)"
                                       class="right-align del-ingredient"><span class="">&times;</span></a>
                                </td>
                            </tr>
                        </table>
                        <br/>
                        <button class="btn right"
                                ng-click="addeditRecipeCtrl.addIngredient()" translate="EDIT_RECIPE_INGREDIENT_ADD">weitere Zutaten
                        </button>
                    </div>
                </div>
            </div>
            <div class="row recipe-footer">
                <div class="col s12 l12">
                    <button class="btn right" type="button"
                            ng-disabled="addeditRecipeForm.$invalid"
                            ng-click="addeditRecipeCtrl.save()" translate="EDIT_RECIPE_BTN_SAVE">Menu Speichern
                    </button>
                    <button class="btn right cancel" type="button"
                            ng-click="addeditRecipeCtrl.cancel()" translate="EDIT_RECIPE_BTN_CANCEL">Abbrechen
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>