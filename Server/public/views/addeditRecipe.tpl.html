<div class="editRecipe">
    <div class="container">
        <form id="addeditRecipeForm" name="addeditRecipeForm">
            <div class="row title-bg">
                <div class="col s12 l12">
                    <h3 class="" ng-show="addeditRecipeCtrl.recipe._id">Rezept bearbeiten</h3>
                    <h3 class="" ng-hide="addeditRecipeCtrl.recipe._id">Rezept hinzufügen</h3>
                    <button class="btn right" type="button"
                            ng-disabled="addeditRecipeForm.$invalid || !addeditRecipeCtrl.recipe.images || addeditRecipeCtrl.recipe.images.length <= 0"
                            ng-click="addeditRecipeCtrl.save()">Menu Speichern
                    </button>
                    <button class="btn right cancel" type="button"
                            ng-click="addeditRecipeCtrl.cancel()">Abbrechen
                    </button>
                </div>
            </div>
            <!--first row-->
            <div class="row">
                <!--FOTO UPLOAD -->
                <div class="col s12 m12 l5 pixupload card text-darken-2">
                        <span class="clearfix form-title">
                             <i class="material-icons medium left ">picture_in_picture</i>
                            <h4 class="right-align ">1. Foto</h4>
                        </span>
                    <div class="divider"></div>
                    <p>Bitte mindestens ein Photo hochladen. Danke!</p>
                    <img ng-show="!addeditRecipeCtrl.recipe.images" class="recipe-img" src="pictures/empty_plate.jpg">

                    <div ng-repeat="image in addeditRecipeCtrl.recipe.images">
                        <img class="recipe-img" ng-src="{{image.src}}"/>
                        <button class="btn right" ng-click="addeditRecipeCtrl.removeImage($index)">löschen</button>
                    </div>
                    <br/>
                    <fb-file-upload recipe="addeditRecipeCtrl.recipe"></fb-file-upload>
                </div>
                <!--<div class="col l2">&nbsp;</div>-->
                <!--right side: Add Recipe-->
                <!--REZEPT NAME -->
                <div class="col s12 m12 l6 right card text-accent-3 recipe-name">
                        <span class="clearfix form-title">
                            <i class="material-icons medium left">receipt</i>
                            <h4 class="right-align ">2. Rezeptname</h4>
                        </span>

                    <div class="divider"></div>
                    <form class="recipe-form">
                        <div class="row">
                            <div class="input-field ">
                                <i class="material-icons orange-text prefix small form-title">mode_edit</i>
                                <input type="text" ng-model="addeditRecipeCtrl.recipe.title" id="recipename"
                                       name="recipename" required/>
                                <label for="recipename">Name des Rezepts</label>
                                <span class="error" ng-show="addeditRecipeForm.recipename.$error.required">Bitte eine Beschreibung erfassen</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field">
                                <i class="material-icons orange-text prefix small form-title">mode_edit</i>
                                        <textarea type="text" rows="2" class="materialize-textarea"
                                                  id="menu-description"
                                                  name="menudescription"
                                                  ng-model="addeditRecipeCtrl.recipe.description" required></textarea>
                                <label for="menu-description">Beschreibung des Menus in ein paar Sätzen</label>
                                <span class="error" ng-show="addeditRecipeForm.menudescription.$error.required">Bitte alle Angaben vollständig ausfüllen</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s6">
                                <h6>Personen</h6>
                            </div>
                            <div class="col s6">
                                <select ng-model="addeditRecipeCtrl.recipe.numPerson" class="browser-default">
                                    <option value="" disabled selected>Anzahl Personen</option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                    <option>6</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s6 ">
                                <h6>Kategorie</h6>
                            </div>
                            <div class=" col s6">
                                <select ng-model="addeditRecipeCtrl.recipe.category" class="browser-default">
                                    <option value="" disabled selected>Rezeptkategorie</option>
                                    <option value="vorspeise">Vorspeise</option>
                                    <option value="hauptspeise">Hauptgang</option>
                                    <option value="dessert">Dessert</option>
                                    <option value="snack">Snack</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s6">
                                <h6>Backzeit</h6>
                            </div>
                            <div class="col s6">
                                <select ng-model="addeditRecipeCtrl.recipe.bakingTime" class="browser-default">
                                    <option value="" disabled selected>Backzeit</option>
                                    <option value="0">Keine Backzeit</option>
                                    <option value="10">10 -20 min</option>
                                    <option value="20">20 -30 min</option>
                                    <option value="30">30 -40 min</option>
                                    <option value="40">40 -50 min</option>
                                    <option value="50">60 + min</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s6">
                                <h6>Zubereitungszeit</h6>
                            </div>
                            <div class="col s6">
                                <select ng-model="addeditRecipeCtrl.recipe.preparationTime" class="browser-default">
                                    <option value="" disabled selected>Zubereitungszeit</option>
                                    <option value="0">ganz kurz</option>
                                    <option value="10">10 -20 min</option>
                                    <option value="20">20 -30 min</option>
                                    <option value="30">30 -40 min</option>
                                    <option value="40">40 -50 min</option>
                                    <option value="50">60 + min</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <!--second row-->
            <div class="row">
                <div class="col s12 m12 l5 left card text-accent-3 recipe-name">
                        <span class="form-title clearfix">
                            <i class="material-icons medium left">view_list</i>
                            <h4 class="right-align">4. Zubereitung</h4>
                        </span>
                    <div class="divider"></div>
                    <p>Beschreibe hier <strong>Schritt für Schritt</strong> den Ablauf des Rezeptes</p>
                    <div class="row">
                        <div ng-repeat="preparationStep in addeditRecipeCtrl.recipe.preparationSteps">
                            <div class="input-field col s12">
                            <textarea rows="3" class="materialize-textarea" id="menustep"
                                      ng-model="preparationStep.text"></textarea>
                                <label for="menustep">{{preparationStep.position}}. Schritt</label>
                            </div>
                        </div>
                        <br/>
                        <button class="btn right"
                                ng-click="addeditRecipeCtrl.addPreparationStep()">Naechster Schritt
                        </button>
                    </div>
                </div>
                <div class="col l2">
                    &nbsp;
                </div>
                <!--4REZEPT ZUTATEN -->
                <div class="col s12 m12 l6 right card text-accent-3 recipe-name">
                        <span class="form-title clearfix">
                             <i class="material-icons medium left">play_for_work</i>
                             <h4 class="right-align">3. Zutaten</h4>
                        </span>
                    <div class="divider"></div>
                    <p>Nenne alle notwendigen <strong>Zutaten</strong> für des Rezeptes</p>
                    <br />
                    <div class="row">
                        <table class="table-ingredients">
                            <thead>
                            <tr>
                                <td>Menge</td>
                                <td>Einheit</td>
                                <td>Zutat</td>
                                <td>Löschen</td>
                            </tr>
                            </thead>
                            <tr ng-repeat="ingredient in addeditRecipeCtrl.recipe.ingredients">
                                <td>
                                    <div class="ingredient-count input-field ">
                                        <input class="mdl-textfield__input" type="number" id="ingredient-type" min="0" step="1"
                                               ng-model="ingredient.denomination"/>
                                        <!--<label class="ingredient-label" for="ingredient-type">Anzahl</label>-->
                                    </div>
                                </td>
                                <td>
                                    <select ng-model="ingredient.unit" class="browser-default">
                                        <option value="" disabled selected>Einheit</option>
                                        <option>EL</option>
                                        <option>TL</option>
                                        <option>Prise</option>
                                        <option>Gramm</option>
                                        <option>Kilo</option>
                                        <option>Liter</option>
                                        <option>Deziliter</option>
                                        <option>Stück</option>
                                    </select>
                                </td>
                                <td>
                                    <div class="input-field">
                                        <input type="text" class="mdl-textfield__input" ng-model="ingredient.name"
                                               id="ingredient-name" list="ingredientsList">
                                        <datalist id="ingredientsList">
                                            <option ng-repeat="ingredient in ingredients" value="{{ingredient}}">
                                        </datalist>
                                        <label for="ingredient-name" class="ingredient-label">Zutat</label>
                                    </div>
                                </td>
                                <td>
                                    <a href="" ng-click="addeditRecipeCtrl.deleteIngredient($index)"
                                       class="right-align">[&times;]</a>
                                </td>
                            </tr>
                        </table>
                        <br/>
                        <button class="btn right"
                                ng-click="addeditRecipeCtrl.addIngredient()">weitere Zutaten
                        </button>
                    </div>
                </div>
            </div>
            <div class="row recipe-footer">
                <div class="col s12 l12">
                    <button class="btn right" type="button"
                            ng-disabled="addeditRecipeForm.$invalid"
                            ng-click="addeditRecipeCtrl.save()">Menu Speichern
                    </button>
                    <button class="btn right cancel" type="button"
                            ng-click="addeditRecipeCtrl.cancel()">Abbrechen
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>